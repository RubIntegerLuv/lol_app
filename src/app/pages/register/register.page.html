<ion-content>
  <div class="register-box">
    <form [formGroup]="form" class="auth-form" (ngSubmit)="submit()" (keypress.enter)="submit()">

      <!-- Campo Nombre -->
      <ion-item>
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-input
          formControlName="name"
          type="text"
          placeholder="Nombre"
        ></ion-input>
      </ion-item>
      <div class="validators" *ngIf="form.controls.name.errors && form.controls.name.touched">
        <div *ngIf="form.controls.name.errors?.['required']">El nombre es obligatorio.</div>
        <div *ngIf="form.controls.name.errors?.['minlength']">Debe tener al menos 4 caracteres.</div>
      </div>

      <!-- Campo Correo -->
      <ion-item>
        <ion-icon name="mail-outline" slot="start"></ion-icon>
        <ion-input
          formControlName="email"
          type="email"
          placeholder="Correo"
        ></ion-input>
      </ion-item>
      <div class="validators" *ngIf="form.controls.email.errors && form.controls.email.touched">
        <div *ngIf="form.controls.email.errors?.['required']">El correo es obligatorio.</div>
        <div *ngIf="form.controls.email.errors?.['email']">Formato de correo inválido.</div>
      </div>

      <!-- Campo Contraseña -->
      <ion-item>
        <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
        <ion-input
          formControlName="password"
          type="password"
          placeholder="Contraseña"
        ></ion-input>
      </ion-item>
      <div class="validators" *ngIf="form.controls.password.errors && form.controls.password.touched">
        <div *ngIf="form.controls.password.errors?.['required']">La contraseña es obligatoria.</div>
      </div>

      <!-- Selección de Rango -->
      <ion-item>
        <ion-label>Rango</ion-label>
        <ion-select formControlName="rank" placeholder="Seleccionar rango">
          <ion-select-option *ngFor="let rank of ['Hierro', 'Bronce', 'Plata', 'Oro', 'Platino', 'Diamante', 'Master', 'GranMaster', 'Challenger']" [value]="rank">
            {{ rank }}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <div class="validators" *ngIf="form.controls.rank.errors && form.controls.rank.touched">
        <div *ngIf="form.controls.rank.errors?.['required']">Selecciona un rango.</div>
      </div>

      <!-- Selección de Rol -->
      <ion-item>
        <ion-label>Rol</ion-label>
        <ion-select formControlName="rol" placeholder="Seleccionar rol">
          <ion-select-option *ngFor="let rol of ['Top', 'Jungla', 'Mid', 'ADC', 'Soporte']" [value]="rol">
            {{ rol }}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <div class="validators" *ngIf="form.controls.rol.errors && form.controls.rol.touched">
        <div *ngIf="form.controls.rol.errors?.['required']">Selecciona un rol.</div>
      </div>

      <!-- Botón Registrar -->
      <ion-button expand="block" mode="ios" class="submit" type="submit" [disabled]="form.invalid">
        <ng-container *ngIf="isLoading; else notLoading">
          <ion-spinner name="dots"></ion-spinner>
        </ng-container>
        <ng-template #notLoading>Registrar</ng-template>
      </ion-button>

      <!-- Botón Volver -->
      <ion-button class="ion-margin-top" routerLink="/login" expand="block" mode="ios">
        Volver
      </ion-button>
    </form>
  </div>
</ion-content>
